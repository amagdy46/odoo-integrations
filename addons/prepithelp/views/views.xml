<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>

    <!-- List View -->
    <record id="prepithelp_list_view" model="ir.ui.view">
      <field name="name">prepithelp.list</field>
      <field name="model">prepithelp.prepithelp</field>
      <field name="arch" type="xml">
        <list>
          <field name="name"/>
          <field name="value"/>
          <field name="value2"/>
        </list>
      </field>
    </record>

    <!-- Form View -->
    <record id="prepithelp_form_view" model="ir.ui.view">
      <field name="name">prepithelp.form</field>
      <field name="model">prepithelp.prepithelp</field>
      <field name="arch" type="xml">
        <form>
          <header>
            <button name="action_sync_categories" type="object" string="Sync Categories" class="btn-primary me-1"/>
            <button name="action_sync_products" type="object" string="Sync Products" class="btn-success me-1"/>
            <button name="action_sync_branches" type="object" string="Sync Branches" class="btn-info me-1"/>
            <button name="action_update_one_branch" type="object" string="Update Branch" class="btn-warning me-1"/>
            <button name="action_delete_one_branch" type="object" string="Delete Branch" class="btn-danger me-1"/>
            <button name="action_sync_addons" type="object" string="Sync Addons" class="oe_highlight me-1"/>
            <button name="action_update_one_product" type="object" string="Update Product" class="btn-secondary me-1"/>
            <button name="action_get_product_by_id" type="object" string="Get Product" class="btn-light me-1"/>
            <button name="action_send_hello_webhook" type="object" string="Test Connection" class="btn-outline-primary"/>
          </header>
          
          <sheet>
            <group>
              <group>
                <field name="name"/>
                <field name="value"/>
                <field name="value2"/>
              </group>
              <group>
                <field name="description" colspan="4"/>
              </group>
            </group>
            
            <notebook>
              <page string="Sync Status">
                <div class="alert alert-info mt16">
                  <strong>Monitor sync results in logs:</strong>
                  <br/>
                  <code>docker compose logs -f web | grep Prepit</code>
                </div>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <!-- Window Action -->
    <record id="prepithelp_action_window" model="ir.actions.act_window">
      <field name="name">Prepit Help Dashboard</field>
      <field name="res_model">prepithelp.prepithelp</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- Menu - KEPT "Prepit Help" naming -->
    <menuitem id="prepithelp_menu_root" 
              name="Prepit Help" 
              sequence="10"
              web_icon="prepithelp,static/description/icon.png"/>

    <menuitem id="prepithelp_menu_items" 
              name="Help Dashboard" 
              parent="prepithelp_menu_root" 
              action="prepithelp_action_window"
              sequence="10"/>

    <!-- Product Template POS Tab Enhancement -->
    <record id="product_template_form_view_prepit_inherit" model="ir.ui.view">
      <field name="name">product.template.form.prepit</field>
      <field name="model">product.template</field>
      <field name="inherit_id" ref="point_of_sale.product_template_form_view"/>
      <field name="arch" type="xml">
        <xpath expr="//page[@name='pos']" position="inside">
          <group string="Prepit Help">
            <field name="pos_branch_config_ids" widget="many2many_tags"/>
            <field name="available_in_pos" invisible="1"/>
          </group>
        </xpath>
      </field>
    </record>

  </data>
</odoo>
